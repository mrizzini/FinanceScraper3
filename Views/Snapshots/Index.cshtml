@model FinanceScraper3.Models.PortfolioViewModel

@{
    ViewData["Title"] = "Snapshots";
}

<h2>Your Snapshots:</h2>


<div class="panel panel-default todo-panel">
    <div class="panel-heading">@ViewData["Title"]</div>



    <table class="table table-hover">
        <thead>
            <tr>
                <td>Date Snapped</td>
                <td>Total Value</td>
                <td>Day Gain</td>
                <td>Day Gain Percentage</td>
                <td>Total Gain</td>
                <td>Total Gain Percentage</td>

            </tr>
        </thead>

        @if(Model == null){
            <span>no items found</span>
        }
        else {
        @foreach (var stock in Model.PortfolioSnapshots)
        {   
            <tr>
                <td>@stock.Date</td>
                <td>@stock.TotalValue</td>
                <td>@stock.DayGain</td>
                <td>@stock.DayGainPercent</td>
                <td>@stock.TotalGain</td>
                <td>@stock.TotalGainPercent</td>
            </tr>
            }
        }
    </table>





<div class= "panel-footer new-snapshot-form">
    @await Html.PartialAsync("TriggerSnapshotPartial", new Portfolio())
</div>




@*
@model FinanceScraper3.Models.Portfolio

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
*@

@*

<p>If you'd like to trigger a new snap shot of your portfolio, please click the button below</p>

<!-- <button id="new-snap" class="btn btn-info">Trigger New Snapshot</button> -->


        <button type="button" value= "NewSnapshot" onclick="location.href='@Url.Action("NewSnapshot", "Snapshots")'">Trigger New Snapshot</button>

*@


@*
@section scripts
{
    <script>

        $(document).ready(function () {

        var newSnap = $('#new-snap');
        // newSnap.click(function(){
        //     alert("scraper running"); 
        // });
            newSnap.click(function(){
                // alert("scraper running"); 
                var url = '@Url.Action("NewSnapshot", "Snapshots")';
        });
    });


    </script>
}
*@